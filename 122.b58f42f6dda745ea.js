"use strict";(self.webpackChunkcic_task=self.webpackChunkcic_task||[]).push([[122],{122:(V,c,i)=>{i.r(c),i.d(c,{EmployeeModule:()=>q});var m=i(6895),d=i(2655),e=i(8256),g=i(1135);let p=(()=>{class t{constructor(){this.employees$=new g.X([{id:0,name:"hasan",age:24,birthOfDate:new Date,address:"Cairo"},{id:1,name:"hasan",age:24,birthOfDate:new Date,address:"Cairo"}]),this.id=2}getEmployees$(){return this.employees$.asObservable()}addOrUpdateEmployee(o){const r=this.employees$.getValue(),s=r.findIndex(u=>u.id===o.id);if(-1===s)return void this.employees$.next([...r,{...o,id:this.getNewId()}]);const a=[...r];a[s]=o,this.employees$.next(a)}getNewId(){return this.id++}deleteEmployee(o){const r=this.employees$.getValue().filter(s=>s.id!==o);this.employees$.next(r)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i(2790),l=i(433),C=i(5307),h=i(9987);function y(t,n){if(1&t&&(e.TgZ(0,"label",5),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.label)}}function v(t,n){if(1&t&&(e.TgZ(0,"span",6),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.formControlError," ")}}let _=(()=>{class t{constructor(o){this.controlContainer=o}get control(){return this.controlContainer.control.get(this.formControlName)}registerOnTouched(o){this.formControlDirective.valueAccessor.registerOnTouched(o)}registerOnChange(o){this.formControlDirective.valueAccessor.registerOnChange(o)}writeValue(o){this.formControlDirective.valueAccessor.writeValue(o)}setDisabledState(o){this.formControlDirective.valueAccessor.setDisabledState(o)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(l.gN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["date-input"]],viewQuery:function(o,r){if(1&o&&e.Gf(l.oH,7),2&o){let s;e.iGM(s=e.CRH())&&(r.formControlDirective=s.first)}},inputs:{formControlName:"formControlName",class:"class",placeholder:"placeholder",formControlError:"formControlError",label:"label"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>t),multi:!0}])],decls:5,vars:8,consts:[[1,"form-group",3,"ngClass"],["class","form-label",4,"ngIf"],["type","date",1,"form-control",3,"ngClass","placeholder","id","name","formControl"],["ref",""],["class","form-error",4,"ngIf"],[1,"form-label"],[1,"form-error"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.YNc(1,y,2,1,"label",1),e._UZ(2,"input",2,3),e.YNc(4,v,2,1,"span",4),e.qZA()),2&o&&(e.Q6J("ngClass",r.class?r.class:""),e.xp6(1),e.Q6J("ngIf",r.label),e.xp6(1),e.Q6J("ngClass",r.formControlError?"error":"")("placeholder",r.placeholder)("id",r.formControlName)("name",r.formControlName)("formControl",r.control),e.xp6(2),e.Q6J("ngIf",r.formControlError))},dependencies:[m.mk,m.O5,l.Fj,l.JJ,l.oH],changeDetection:0}),t})();function b(t,n){if(1&t&&(e.TgZ(0,"label",4),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Oqu(o.label)}}function E(t,n){if(1&t&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.hij(" ",o.formControlError," ")}}const Z=function(t){return[t]};let T=(()=>{class t{constructor(o){this.controlContainer=o,this.minValue=null}get control(){return this.controlContainer.control.get(this.formControlName)}checkIfPositive(o){return"-"!==o.key}registerOnTouched(o){this.formControlDirective.valueAccessor.registerOnTouched(o)}registerOnChange(o){this.formControlDirective.valueAccessor.registerOnChange(o)}writeValue(o){this.formControlDirective.valueAccessor.writeValue(o)}setDisabledState(o){this.formControlDirective.valueAccessor.setDisabledState(o)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(l.gN))},t.\u0275cmp=e.Xpm({type:t,selectors:[["number-input"]],viewQuery:function(o,r){if(1&o&&e.Gf(l.oH,7),2&o){let s;e.iGM(s=e.CRH())&&(r.formControlDirective=s.first)}},inputs:{formControlName:"formControlName",class:"class",placeholder:"placeholder",formControlError:"formControlError",label:"label",minValue:"minValue"},features:[e._Bn([{provide:l.JU,useExisting:(0,e.Gpc)(()=>t),multi:!0}])],decls:4,vars:13,consts:[[1,"form-group",3,"ngClass"],["class","form-label",4,"ngIf"],["type","number",1,"form-control",3,"ngClass","placeholder","id","name","formControl","min","keypress"],["class","form-error",4,"ngIf"],[1,"form-label"],[1,"form-error"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.YNc(1,b,2,1,"label",1),e.TgZ(2,"input",2),e.NdJ("keypress",function(a){return 0==r.minValue?r.checkIfPositive(a):""}),e.qZA(),e.YNc(3,E,2,1,"span",3),e.qZA()),2&o&&(e.ekj("disabled",r.control.disabled),e.Q6J("ngClass",r.class?r.class:""),e.xp6(1),e.Q6J("ngIf",r.label),e.xp6(1),e.Q6J("ngClass",e.VKq(11,Z,r.formControlError?"error":""))("placeholder",r.placeholder||r.label)("id",r.formControlName)("name",r.formControlName)("formControl",r.control)("min",r.minValue),e.xp6(1),e.Q6J("ngIf",r.formControlError))},dependencies:[m.mk,m.O5,l.Fj,l.wV,l.JJ,l.qQ,l.oH],changeDetection:0}),t})(),N=(()=>{class t{constructor(o,r,s){this._es=o,this._ms=r,this._vs=s,this.validationMessages={name:{required:"Name is reqiured"},age:{required:"Age is reqiured"},birthOfDate:{required:"Birth of date is reqiured"}},this.formErrors={}}ngOnInit(){this.initFormGroup(),this.trackFormChanges()}initFormGroup(){this.employeeForm=new l.cw({name:new l.NI(null,l.kI.required),age:new l.NI(null,l.kI.required),birthOfDate:new l.NI(null,l.kI.required),address:new l.NI})}trackFormChanges(){this.employeeForm.valueChanges.subscribe(o=>{this.logValidationMessages()})}logValidationMessages(){this.formErrors=this._vs.getValidationErrors(this.employeeForm,this.validationMessages)}submit(){this.employeeForm.valid?(this._es.addOrUpdateEmployee(this.employeeForm.value),this.close()):(this.employeeForm.markAllAsTouched(),this.employeeForm.markAsDirty(),this.logValidationMessages())}reset(){}close(){this._ms.close()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p),e.Y36(f.Z),e.Y36(C.R))},t.\u0275cmp=e.Xpm({type:t,selectors:[["employee-form"]],decls:10,vars:5,consts:[[3,"formGroup","ngSubmit"],["formControlName","name","label","Name",3,"formControlError"],["formControlName","age","label","Age",1,"mt-2",3,"formControlError","minValue"],["formControlName","birthOfDate","label","Birth of date",1,"mt-2",3,"formControlError"],["formControlName","address","label","Address",1,"mt-2"],[1,"float-end","mt-3"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary","ms-2"]],template:function(o,r){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.submit()}),e._UZ(1,"text-input",1)(2,"number-input",2)(3,"date-input",3)(4,"text-input",4),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return r.close()}),e._uU(7," close "),e.qZA(),e.TgZ(8,"button",7),e._uU(9," Add "),e.qZA()()()),2&o&&(e.Q6J("formGroup",r.employeeForm),e.xp6(1),e.Q6J("formControlError",r.formErrors.name),e.xp6(1),e.Q6J("formControlError",r.formErrors.age)("minValue",0),e.xp6(1),e.Q6J("formControlError",r.formErrors.birthOfDate))},dependencies:[h.t,l._Y,l.JJ,l.JL,l.sg,l.u,_,T],changeDetection:0}),t})();const A=function(t){return{remove:t}};let I=(()=>{class t{constructor(o){this._es=o,this.remove=!1}ngOnInit(){}deleteEmployee(){this._es.deleteEmployee(this.employee.id)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["employee-card"]],inputs:{employee:"employee"},decls:25,vars:9,consts:[[1,"card",3,"ngClass","transitionend"],[1,"card-item"],[1,"close-btn",3,"click"],[1,"fa","fa-close"],[1,"ms-2"],[1,"mt-3"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e.NdJ("transitionend",function(){return r.deleteEmployee()}),e.TgZ(1,"div",1)(2,"a",2),e.NdJ("click",function(){return r.remove=!0}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div")(5,"span"),e._uU(6,"Name :"),e.qZA(),e.TgZ(7,"span",4),e._uU(8),e.qZA()(),e.TgZ(9,"div",5)(10,"span"),e._uU(11,"Age :"),e.qZA(),e.TgZ(12,"span",4),e._uU(13),e.qZA()(),e.TgZ(14,"div",5)(15,"span"),e._uU(16,"Birth of date :"),e.qZA(),e.TgZ(17,"span",4),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.TgZ(20,"div",5)(21,"span"),e._uU(22,"Address :"),e.qZA(),e.TgZ(23,"span",4),e._uU(24),e.qZA()()()()),2&o&&(e.Q6J("ngClass",e.VKq(7,A,r.remove)),e.xp6(8),e.Oqu(null==r.employee?null:r.employee.name),e.xp6(5),e.Oqu(null==r.employee?null:r.employee.age),e.xp6(5),e.Oqu(e.lcZ(19,5,null==r.employee?null:r.employee.birthOfDate)),e.xp6(6),e.Oqu(null==r.employee?null:r.employee.address))},dependencies:[m.mk,m.uU],changeDetection:0}),t})();function D(t,n){1&t&&e._UZ(0,"employee-card",7),2&t&&e.Q6J("employee",n.$implicit)}function F(t,n){1&t&&(e.TgZ(0,"div",8),e._UZ(1,"employee-form"),e.qZA())}const O=[{path:"",component:(()=>{class t{constructor(o,r){this._es=o,this._ms=r}ngOnInit(){this.getEmployees()}openModal(o){this._ms.open(o)}getEmployees(){this.employees$=this._es.getEmployees$()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p),e.Y36(f.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-view"]],decls:10,vars:3,consts:[[1,"container"],[1,"title"],[1,"cards"],[3,"employee",4,"ngFor","ngForOf"],[1,"btn-float",3,"click"],[1,"fa","fa-plus"],["employeeForm",""],[3,"employee"],[1,"modal-body"]],template:function(o,r){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Employees"),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,D,1,1,"employee-card",3),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){e.CHM(s);const u=e.MAs(9);return e.KtG(r.openModal(u))}),e._UZ(7,"i",5),e.qZA()(),e.YNc(8,F,2,0,"ng-template",null,6,e.W1O)}2&o&&(e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,1,r.employees$)))},dependencies:[m.sg,N,I,m.Ov],changeDetection:0}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(O),d.Bz]}),t})();var w=i(4466);let q=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,J,w.m]}),t})()}}]);